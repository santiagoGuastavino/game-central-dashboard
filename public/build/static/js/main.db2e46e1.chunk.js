(this["webpackJsonpgame-central"]=this["webpackJsonpgame-central"]||[]).push([[0],{25:function(e,t,c){},26:function(e,t,c){},34:function(e,t,c){},35:function(e,t,c){},36:function(e,t,c){},37:function(e,t,c){},38:function(e,t,c){},39:function(e,t,c){},40:function(e,t,c){},41:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),s=c(19),r=c.n(s),i=(c(25),c.p+"static/media/background.b734dc21.jpeg"),o=(c(26),c(10)),l=c(0),u=function(){return Object(l.jsxs)("aside",{className:"sidebar",children:[Object(l.jsx)("p",{className:"logo-box",children:"GC"}),Object(l.jsx)("h5",{className:"trademark",children:"Game Central \xa9"}),Object(l.jsxs)("ul",{className:"link-list",children:[Object(l.jsx)(o.b,{id:"home-link",className:"link-link",to:"/",children:"Home"}),Object(l.jsx)(o.b,{id:"products-link",className:"link-link",to:"/products",children:"Productos"}),Object(l.jsx)(o.b,{id:"users-link",className:"link-link",to:"/users",children:"Usuarios"})]}),Object(l.jsx)("ul",{id:"back-to-web-page",className:"link-list",children:Object(l.jsx)("a",{className:"link-link",href:"http://localhost:3001/",target:"_blank",rel:"noreferrer",children:"Volver"})})]})},j=c(6),h=c.n(j),b=c(17),f=c(9),O=c(4),d=(c(34),c(35),c(36),function(e){return Object(l.jsxs)("article",{className:"count-item",children:[Object(l.jsx)("p",{className:"count-item-title",children:e.title}),Object(l.jsx)("p",{className:"count-item-number",children:e.number})]})}),m=function(){return Object(l.jsx)("p",{children:"Cargando..."})},p=function(){var e=Object(n.useState)([]),t=Object(O.a)(e,2),c=t[0],a=t[1];return Object(n.useEffect)((function(){fetch("http://localhost:3001/api").then((function(e){return e.json()})).then((function(e){a([{item:"JUEGOS",total:e.totals.gameCount},{item:"CATEGOR\xcdAS",total:e.totals.categoryCount},{item:"PLATAFORMAS",total:e.totals.platformCount},{item:"USUARIOS",total:e.totals.userCount},{item:"VENTAS",total:e.totals.saleCount}])}),[]).catch((function(e){return console.log(e)}))}),[]),Object(l.jsxs)("section",{className:"main-count-panel",children:[0===c.length&&Object(l.jsx)(m,{}),c.length>0&&c.map((function(e,t){return Object(l.jsx)(d,{title:e.item,number:e.total},e+t)}))]})},x=(c(37),function(e){return Object(n.useEffect)((function(){for(var e=document.querySelectorAll(".panel"),t=0;t<e.length;t++)"header"!==e[t].firstChild.localName?e[t].classList.add("panel-thinner"):e[t].classList.add("panel-wide")}),[]),Object(l.jsxs)("section",{className:"panel",children:[e.children,Object(l.jsxs)("article",{className:"panel-article",children:[Object(l.jsx)("p",{className:"panel-title",children:e.title}),Object(l.jsx)("div",{className:"panel-img",children:Object(l.jsx)("a",{target:"_blank",href:e.img,rel:"noreferrer",children:Object(l.jsx)("img",{src:e.img,alt:"img".concat(e.title)})})})]})]})}),g=(c(38),function(e){return Object(l.jsxs)("div",{className:"article-one-fourth",children:[Object(l.jsx)("p",{className:"count-title",children:e.title}),Object(l.jsx)("p",{className:"count-number",children:e.number})]})}),N=function(){Object(n.useEffect)((function(){document.querySelector("#home-link").classList.add("active-link")}),[]);var e=Object(n.useState)(""),t=Object(O.a)(e,2),c=t[0],a=t[1];Object(n.useEffect)((function(){a("https://g6-game-central.herokuapp.com/api"),window.location.href.includes("localhost")&&a("http://localhost:3001/api")}),[]);var s=Object(n.useState)([]),r=Object(O.a)(s,2),i=r[0],o=r[1],u=Object(n.useState)([]),j=Object(O.a)(u,2),d=j[0],N=j[1],k=Object(n.useState)([]),v=Object(O.a)(k,2),S=v[0],y=v[1],E=Object(n.useState)([]),C=Object(O.a)(E,2),w=C[0],A=C[1],q=Object(n.useState)([]),L=Object(O.a)(q,2),R=L[0],M=L[1];return Object(n.useEffect)((function(){(function(){var e=Object(f.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(c,"/users/last")).then((function(e){return e.json()}));case 2:return t=e.sent,e.next=5,fetch("".concat(c,"/products/last")).then((function(e){return e.json()}));case 5:n=e.sent;try{o([Object(b.a)({},t.user),Object(b.a)({},n.game)])}catch(a){console.log(a)}case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[c]),Object(n.useEffect)((function(){fetch("".concat(c,"/products")).then((function(e){return e.json()})).then((function(e){N(e.countByCategory),y(e.countByPlatform),A(e.bestBuyers),M(e.bestSellers)})).catch((function(e){return console.log(e)}))}),[c]),Object(n.useEffect)((function(){var e=document.querySelector("#home-link");return function(){e.classList.remove("active-link")}}),[c]),Object(l.jsxs)("main",{className:"main-main",children:[Object(l.jsx)(p,{}),Object(l.jsxs)("div",{className:"panel-container",children:[0===d.length&&Object(l.jsx)(m,{}),d&&Object(l.jsxs)("section",{className:"count-panel",children:[Object(l.jsxs)("header",{className:"count-header",children:[Object(l.jsx)("p",{children:"Ocurrencias"}),Object(l.jsx)("p",{children:"CATEGOR\xcdAS"})]}),Object(l.jsx)("article",{className:"count-article",children:d.map((function(e,t){return Object(l.jsx)(g,{title:e.title,number:e.quantity},e.title+t)}))})]}),0===S.length&&Object(l.jsx)(m,{}),S&&Object(l.jsxs)("section",{className:"count-panel",children:[Object(l.jsxs)("header",{className:"count-header",children:[Object(l.jsx)("p",{children:"Ocurrencias"}),Object(l.jsx)("p",{children:"PLATAFORMAS"})]}),Object(l.jsx)("article",{className:"count-article",children:S.map((function(e,t){return Object(l.jsx)(g,{title:e.title,number:e.quantity},e.title+t)}))})]}),0===w.length&&Object(l.jsx)(m,{}),w&&Object(l.jsxs)("section",{className:"count-panel",children:[Object(l.jsxs)("header",{className:"count-header",children:[Object(l.jsx)("p",{children:"Ocurrencias"}),Object(l.jsx)("p",{children:"COMPRADORES"})]}),Object(l.jsx)("article",{className:"count-article",children:w.map((function(e,t){return Object(l.jsx)(g,{title:e.name+" "+e.surname,number:e.quantity},e.surname+t)}))})]}),0===w.length&&Object(l.jsx)(m,{}),R&&Object(l.jsxs)("section",{className:"count-panel",children:[Object(l.jsxs)("header",{className:"count-header",children:[Object(l.jsx)("p",{children:"Ocurrencias"}),Object(l.jsx)("p",{children:"VENDIDOS"})]}),Object(l.jsx)("article",{className:"count-article",children:R.map((function(e,t){return Object(l.jsx)(g,{title:e.title,number:e.quantity},e.title+t)}))})]}),0===i.length&&Object(l.jsx)(m,{}),i&&i.map((function(e,t){return Object(l.jsx)(x,{title:e.title,img:e.img,children:Object(l.jsxs)("header",{className:"panel-header",children:[Object(l.jsx)("p",{children:"\xdaLTIMO"}),Object(l.jsx)("p",{children:e.identity})]})},e.title+t)}))]})]})},k=(c(39),function(){var e=Object(n.useState)([]),t=Object(O.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(0),r=Object(O.a)(s,2),i=r[0],o=r[1],u=Object(n.useState)(1),j=Object(O.a)(u,2),b=j[0],d=j[1];Object(n.useEffect)((function(){fetch("http://localhost:3001/api").then((function(e){return e.json()})).then((function(e){o(e.totals.gameCount)})).catch((function(e){return console.log(e)}))})),Object(n.useEffect)((function(){fetch("http://localhost:3001/api/products/".concat(b)).then((function(e){return e.json()})).then((function(e){a(e.games)})).catch((function(e){return console.log(e)}))}),[b]);var p=function(){var e=Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(b+1);case 2:fetch("http://localhost:3001/api/products/".concat(b)).then((function(e){return e.json()})).then((function(e){a(e.games)})).catch((function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(b-1);case 2:fetch("http://localhost:3001/api/products/".concat(b)).then((function(e){return e.json()})).then((function(e){a(e.games)})).catch((function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(e){e.preventDefault()};return Object(n.useEffect)((function(){document.querySelector("#products-link").classList.add("active-link")}),[]),Object(n.useEffect)((function(){var e=document.querySelector("#products-link");return function(){e.classList.remove("active-link")}}),[]),Object(l.jsx)("main",{className:"main-main",children:Object(l.jsxs)("div",{className:"panel-container",children:[0===c.length&&Object(l.jsx)(m,{}),c&&c.map((function(e,t){return Object(l.jsx)(x,{title:e.title,img:e.img},e.title+t)})),c&&Object(l.jsxs)("div",{className:"paging-button-box",children:[Object(l.jsx)("button",{className:"paging-button",onClick:1===b?N:g,children:Object(l.jsx)("h2",{children:Object(l.jsx)("i",{className:"fas fa-caret-left"})})}),Object(l.jsx)("h2",{className:"current-page",children:b}),Object(l.jsx)("button",{className:"paging-button",onClick:Math.ceil(i/9)===b?N:p,children:Object(l.jsx)("h2",{children:Object(l.jsx)("i",{className:"fas fa-caret-right"})})})]})]})})}),v=function(){var e=Object(n.useState)([]),t=Object(O.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(0),r=Object(O.a)(s,2),i=r[0],o=r[1],u=Object(n.useState)(1),j=Object(O.a)(u,2),b=j[0],d=j[1];Object(n.useEffect)((function(){fetch("http://localhost:3001/api").then((function(e){return e.json()})).then((function(e){o(e.totals.userCount)})).catch((function(e){return console.log(e)}))})),Object(n.useEffect)((function(){fetch("http://localhost:3001/api/users/".concat(b)).then((function(e){return e.json()})).then((function(e){a(e.users)})).catch((function(e){return console.log(e)}))}),[b]);var p=function(){var e=Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(b+1);case 2:fetch("http://localhost:3001/api/users/".concat(b)).then((function(e){return e.json()})).then((function(e){a(e.users)})).catch((function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(b-1);case 2:fetch("http://localhost:3001/api/users/".concat(b)).then((function(e){return e.json()})).then((function(e){a(e.users)})).catch((function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(e){e.preventDefault()};return Object(n.useEffect)((function(){document.querySelector("#users-link").classList.add("active-link")}),[]),Object(n.useEffect)((function(){var e=document.querySelector("#users-link");return function(){e.classList.remove("active-link")}}),[]),Object(l.jsx)("main",{className:"main-main",children:Object(l.jsxs)("div",{className:"panel-container",children:[0===c.length&&Object(l.jsx)(m,{}),c&&c.map((function(e,t){return Object(l.jsx)(x,{title:e.name+" "+e.surname,img:e.avatar},e.name+t)})),c&&Object(l.jsxs)("div",{className:"paging-button-box",children:[Object(l.jsx)("button",{className:"paging-button",onClick:1===b?N:g,children:Object(l.jsx)("h2",{children:Object(l.jsx)("i",{className:"fas fa-caret-left"})})}),Object(l.jsx)("h2",{className:"current-page",children:b}),Object(l.jsx)("button",{className:"paging-button",onClick:Math.ceil(i/6)===b?N:p,children:Object(l.jsx)("h2",{children:Object(l.jsx)("i",{className:"fas fa-caret-right"})})})]})]})})},S=(c(40),function(){return Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{className:"error-text",children:"ERROR 404"}),Object(l.jsx)("p",{className:"error-detail",children:"Page not found"})]})}),y=c(2),E={backgroundImage:"url(".concat(i,")"),backgroundPosition:"center center",backgroundAttachment:"fixed",backgroundRepeat:"no-repeat",backgroundSize:"cover"},C=function(){return Object(l.jsxs)("div",{className:"container",style:E,children:[Object(l.jsx)(u,{}),Object(l.jsxs)(y.c,{children:[Object(l.jsx)(y.a,{path:"/",exact:!0,component:N}),Object(l.jsx)(y.a,{path:"/products",exact:!0,component:k}),Object(l.jsx)(y.a,{path:"/users",exact:!0,component:v}),Object(l.jsx)(y.a,{component:S})]})]})};r.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(o.a,{children:Object(l.jsx)(C,{})})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.db2e46e1.chunk.js.map